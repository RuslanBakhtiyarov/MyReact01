{"ast":null,"code":"import _classCallCheck from\"/Users/ruslanbahtiarov/Documents/GitHub/MyReact01/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ruslanbahtiarov/Documents/GitHub/MyReact01/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/ruslanbahtiarov/Documents/GitHub/MyReact01/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/ruslanbahtiarov/Documents/GitHub/MyReact01/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/ruslanbahtiarov/Documents/GitHub/MyReact01/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Shipment from'./Shipment';import{TransitionGroup,CSSTransition}from'react-transition-group';var Order=/*#__PURE__*/function(_React$Component){_inherits(Order,_React$Component);function Order(){var _getPrototypeOf2;var _this;_classCallCheck(this,Order);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Order)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.renderOrder=function(key){var burger=_this.props.burgers[key];var count=_this.props.order[key];var isAvailable=burger&&burger.status==='available';var transitionOptions={classNames:'order',key:key,timeout:{enter:500,exit:500}};if(!burger)return null;if(!isAvailable){return React.createElement(CSSTransition,transitionOptions,React.createElement(\"li\",{className:\"unavailable\",key:key},\"\\u0418\\u0437\\u0432\\u0438\\u043D\\u0438\\u0442\\u0435, \",burger?burger.name:'бургер',\" \\u0432\\u0440\\u0435\\u043C\\u0435\\u043D\\u043D\\u043E \\u043D\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0435\\u043D\"));}return React.createElement(CSSTransition,transitionOptions,React.createElement(\"li\",{key:key},React.createElement(\"span\",null,React.createElement(TransitionGroup,{component:\"span\",className:\"count\"},React.createElement(CSSTransition,{classNames:\"count\",key:count,timeout:{enter:500,exit:500}},React.createElement(\"span\",null,count))),\"\\u0448\\u0442. \",burger.name,React.createElement(\"span\",null,\" \",count*burger.price,\" \\u20BD\"),React.createElement(\"button\",{onClick:function onClick(){return _this.props.deleteFromOrder(key);},className:\"cancellItem\"},\"\\xD7\"))));};return _this;}_createClass(Order,[{key:\"render\",value:function render(){var _this2=this;var orderIds=Object.keys(this.props.order);var total=orderIds.reduce(function(prevTotal,key){var burger=_this2.props.burgers[key];var count=_this2.props.order[key];var isAvailable=burger&&burger.status==='available';if(isAvailable){return prevTotal+burger.price*count;}return prevTotal;},0);return React.createElement(\"div\",{className:\"order-wrap\"},React.createElement(\"h2\",null,\"\\u0412\\u0430\\u0448 \\u0417\\u0430\\u043A\\u0430\\u0437\"),React.createElement(TransitionGroup,{component:\"ul\",className:\"order\"},orderIds.map(this.renderOrder)),total>0?React.createElement(Shipment,{total:total}):React.createElement(\"div\",{className:\"nothingSelected\"},\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0431\\u043B\\u044E\\u0434\\u0430 \\u0438 \\u0434\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043A \\u0437\\u0430\\u043A\\u0430\\u0437\\u0443\"));}}]);return Order;}(React.Component);export default Order;","map":{"version":3,"sources":["/Users/ruslanbahtiarov/Documents/GitHub/MyReact01/src/components/Order.js"],"names":["React","Shipment","TransitionGroup","CSSTransition","Order","renderOrder","key","burger","props","burgers","count","order","isAvailable","status","transitionOptions","classNames","timeout","enter","exit","name","price","deleteFromOrder","orderIds","Object","keys","total","reduce","prevTotal","map","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Shipment from './Shipment';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\n\nclass Order extends React.Component {\n  static propTypes = {\n    burgers: PropTypes.object,\n    order: PropTypes.object,\n    deleteFromOrder: PropTypes.func\n  };\n\n  renderOrder = key => {\n    const burger = this.props.burgers[key];\n    const count = this.props.order[key];\n    const isAvailable = burger && burger.status === 'available';\n    const transitionOptions = {\n      classNames: 'order',\n      key,\n      timeout: { enter: 500, exit: 500 }\n    };\n    if (!burger) return null;\n\n    if (!isAvailable) {\n      return (\n        <CSSTransition {...transitionOptions}>\n          <li className='unavailable' key={key}>\n            Извините, {burger ? burger.name : 'бургер'} временно недоступен\n          </li>\n        </CSSTransition>\n      );\n    }\n\n    return (\n      <CSSTransition {...transitionOptions}>\n        <li key={key}>\n          <span>\n            <TransitionGroup component='span' className='count'>\n              <CSSTransition\n                classNames='count'\n                key={count}\n                timeout={{ enter: 500, exit: 500 }}\n              >\n                <span>{count}</span>\n              </CSSTransition>\n            </TransitionGroup>\n            шт. {burger.name}\n            <span> {count * burger.price} ₽</span>\n            <button\n              onClick={() => this.props.deleteFromOrder(key)}\n              className='cancellItem'\n            >\n              &times;\n            </button>\n          </span>\n        </li>\n      </CSSTransition>\n    );\n  };\n\n  render() {\n    const orderIds = Object.keys(this.props.order);\n    const total = orderIds.reduce((prevTotal, key) => {\n      const burger = this.props.burgers[key];\n      const count = this.props.order[key];\n\n      const isAvailable = burger && burger.status === 'available';\n      if (isAvailable) {\n        return prevTotal + burger.price * count;\n      }\n      return prevTotal;\n    }, 0);\n\n    return (\n      <div className='order-wrap'>\n        <h2>Ваш Заказ</h2>\n\n        <TransitionGroup component='ul' className='order'>\n          {orderIds.map(this.renderOrder)}\n        </TransitionGroup>\n\n        {total > 0 ? (\n          <Shipment total={total} />\n        ) : (\n          <div className='nothingSelected'>\n            Выберите блюда и добавьте к заказу\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Order;\n"]},"metadata":{},"sourceType":"module"}